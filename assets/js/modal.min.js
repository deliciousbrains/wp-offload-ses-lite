var wposesModal=function(t){var l={prefix:"wposes",loading:!1,dismissible:!0},p={};function r(o){return o.replace(/[^a-z]/g,"")}return l.exists=function(o){var e=r(o);return void 0!==p[e]||!!t(o).length},l.open=function(o,e,s){var a=r(o);t("body").append('<div id="wposes-overlay"></div>');var d=t("#wposes-overlay");l.dismissible?d.append('<div id="wposes-modal"><span class="close-wposes-modal">Ã—</span></div>'):d.append('<div id="wposes-modal"></div>');var i=t("#wposes-modal");if(void 0===p[a]){var n=t(o);p[a]=n.clone(!0).css("display","block"),n.remove()}i.data("wposes-modal-target",o).append(p[a]),void 0!==s&&i.addClass(s),"function"==typeof e&&e(o),t("body").addClass("wposes-modal-open"),i.css("display","table"),d.fadeIn(150),i.fadeIn(150),t("body").trigger("wposes-modal-open",[o])},l.close=function(o){if(!l.loading&&l.dismissible){var e=t("#wposes-modal").data("wposes-modal-target");t("#wposes-overlay").fadeOut(150,function(){t("body").removeClass("wposes-modal-open"),t(this).remove(),"function"==typeof o&&o(e)}),t("body").trigger("wposes-modal-close",[e])}},l.setLoadingState=function(o){l.loading=o},l.setDismissibleState=function(o){l.dismissible=o},t(document).ready(function(){t("body").on("click","[data-wposes-modal]",function(o){o.preventDefault(),l.open(t(this).data("wposes-modal")+"."+l.prefix)}),t("body").on("click",".wposes-modal-cancel, .close-wposes-modal, #wposes-overlay",function(o){if(o.target!==this)return!0;o.preventDefault(),l.close()})}),t(document).on("keyup",function(o){"Escape"===o.key&&l.close()}),l}(jQuery);